<div ng-controller="IncomeCtrl">

  <md-card>

    <md-card-title>
      <md-card-title-text>
        <span class="md-headline"><md-button style="font-size: 80%">Add new income item</md-button></span>
      </md-card-title-text>
    </md-card-title>
    <md-card-content>
      <form>
        <div class="form-group">
          <label for="exampleSelect1">Income type</label>
          <select class="form-control" id="exampleSelect1" ng-model="$ctrl.newItem.type"
                  ng-options="item for item in $ctrl.incomeOptions"></select>
        </div>

        <div class="form-group">
          <label for="description">Description</label>
          <input type="text" ng-model="$ctrl.newItem.description" class="form-control" id="description">
        </div>

        <div class="form-group">
          <label for="amount">Amount</label>
          <input type="number" ng-model="$ctrl.newItem.amount" class="form-control" id="amount">
        </div>

        <button type="submit" ng-click="$ctrl.addItem()" class="btn btn-primary pull-right">Submit</button>
      </form>
    </md-card-content>
  </md-card>

  <div class="table-mobile">
    <md-card>

      <md-card-title>
        <md-card-title-text>
          <span class="md-headline"><md-button style="font-size: 80%">Income items</md-button></span>
        </md-card-title-text>
      </md-card-title>

      <md-card-content>

        <table class="table table-sm table-striped table-hover table-responsive">
          <input ng-model="$ctrl.searchInput" type="text" class="form-control" id="search" placeholder="Search">
          <thead>
          <tr>
            <th>Type</th>
            <th>Description</th>
            <th>Amount</th>
            <th>Remove item</th>
          </tr>
          </thead>
          <tbody>
          <tr ng-repeat="item in $ctrl.incomeTable | filter: searchFilter(searchInput)">
            <td class="input-cell">
              <select ng-change="$ctrl.editItem(item)" class="table-input" ng-model="item.type" ng-options="item for item in $ctrl.incomeOptions"></select>
            </td>
            <td class="input-cell"><input ng-change="$ctrl.editItem(item)" class="table-input" type="text" ng-model="item.description"></td>
            <td class="input-cell">R <input ng-change="$ctrl.editItem(item)" class="table-input" type="number" ng-model="item.amount"></td>
            <td class="input-cell">
              <button ng-click="$ctrl.removeItem(item)" type="button" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span></button>
            </td>
          </tr>
          <tr>
            <td></td>
            <td><strong>Total</strong></td>
            <td><strong>{{$ctrl.total() | currency:'R'}}</strong></td>
          </tr>
          </tbody>
        </table>

      </md-card-content>

    </md-card>
  </div>

</div>


